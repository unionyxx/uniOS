<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uniOS â€” A x86-64 Operating System</title>
    <meta name="description" content="A scratch-built x86-64 operating system kernel written in C++20. Features a modern GUI, TCP/IP stack, and SSE-optimized renderer.">
    
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.ico">

    <script>
        // Use dark theme by default if browser prefers it or if saved
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>
</head>
<body>
    <div class="wrapper">
        <nav>
            <div class="logo">uniOS</div>
            <div class="nav-links">
                <a href="https://github.com/unionyxx/uniOS/blob/main/docs/ARCHITECTURE.md">Docs</a>
                <a href="https://github.com/unionyxx/uniOS" class="btn-github">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" />
                    </svg>
                    GitHub
                </a>
            </div>
        </nav>

        <header class="hero">
            <h1>A minimal x86-64 operating system.</h1>
            <p>Written in C++20 from the ground up. uniOS features a modular kernel, modern windowing system, and a custom network stack.</p>
            <div class="hero-actions">
                <a href="https://github.com/unionyxx/uniOS" class="btn btn-primary">View Source</a>
                <a href="#features" class="btn btn-secondary">Learn More</a>
            </div>
        </header>

        <section class="terminal-container">
            <div class="terminal-window">
                <div class="terminal-header">
                    <span></span><span></span><span></span>
                </div>
                <div class="terminal-content" id="terminal-typewriter">
                    <!-- Typed by script -->
                </div>
            </div>
        </section>

        <main id="features">
            <h2 class="section-title">Features</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <h3>Modular GUI</h3>
                    <p>A custom windowing system built from scratch with draggable windows, icons, and a dedicated rendering subsystem.</p>
                </div>
                <div class="feature-item">
                    <h3>SSE Renderer</h3>
                    <p>High-performance graphics utilizing SSE2 SIMD instructions, dirty rectangle tracking, and double buffering.</p>
                </div>
                <div class="feature-item">
                    <h3>TCP/IP Stack</h3>
                    <p>A hand-written networking stack (ARP, IPv4, ICMP, UDP, TCP) with support for DHCP and DNS resolution.</p>
                </div>
                <div class="feature-item">
                    <h3>Modern Kernel</h3>
                    <p>Preemptive multitasking, O(1) scheduler, dynamic memory management, and MSI-X interrupt support.</p>
                </div>
                <div class="feature-item">
                    <h3>Storage</h3>
                    <p>Support for native uniFS and initial infrastructure for FAT32 on block devices.</p>
                </div>
                <div class="feature-item">
                    <h3>Audio</h3>
                    <p>Support for both Intel HD Audio (HDA) and legacy AC97 with variable sample rate playback.</p>
                </div>
            </div>
        </main>

        <footer>
            <div>uniOS</div>
            <div>MIT License &bull; 2026</div>
        </footer>
    </div>

    <script>
        const terminal = document.getElementById('terminal-typewriter');
        const sequence = [
            { text: "Booting uniOS...", delay: 100 },
            { text: "[INFO] GDT Initialized", delay: 50 },
            { text: "[INFO] IDT Initialized", delay: 50 },
            { text: "[INFO] PMM Initialized", delay: 50 },
            { text: "[INFO] SSE/PAT Enabled", delay: 50 },
            { text: "[INFO] Window Manager Started", delay: 100 },
            { text: "\nuser@unios:~$ ", noNewLine: true, delay: 500 },
            { text: "uname -a", type: true, delay: 200 },
            { text: "\nuniOS @ a3f92c1 x86_64 #1 SMP Fri Feb 27 2026", delay: 50 },
            { text: "\nuser@unios:~$ ", noNewLine: true, delay: 500 },
            { text: "ls /bin", type: true, delay: 200 },
            { text: "\n  sh  ls  cat  echo  ping  audio", delay: 50 },
            { text: "\nuser@unios:~$ ", noNewLine: true, delay: 500 },
            { text: " ", cursor: true }
        ];

        async function runTypewriter() {
            terminal.innerHTML = '';
            for (let step of sequence) {
                if (step.cursor) {
                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    terminal.appendChild(cursor);
                    continue;
                }
                if (step.type) {
                    for (let char of step.text) {
                        terminal.innerHTML += char;
                        await new Promise(r => setTimeout(r, 40 + Math.random() * 40));
                    }
                } else {
                    terminal.innerHTML += step.text;
                    if (!step.noNewLine) terminal.innerHTML += "<br>";
                }
                await new Promise(r => setTimeout(r, step.delay));
            }
        }
        runTypewriter();
    </script>
</body>
</html>
